---
title: 业务实现：回调失败重试
layout: posts
categories: 回调, 重试
---

# 业务实现：回调失败重试

---
## 业务背景
*针对于交易回调，由于自身或者对方网络的原因导致回调失败，这时需要配置回调策略针对，不同的策略进行失败重试！*

## 实现方式
 利用 **MQ延时推送** 机制进行失败回调重试。

## 设计样例

### 例子
假设对于一笔交易回调如果失败之后需要进行5次失败重试。

*步骤如下：*
* 成功判断
* 如果失败记录失败次数，并丢入延时队列
* 监听到延时队列数据，进行处理，如果继续失败，记录失败次数，并判断是否超过最大次数，超过则结束，否则继续上述步骤。
 
